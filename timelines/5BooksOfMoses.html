<!doctype html>
<html>

<head>

  <meta charset="UTF-8">
  <title>5 Books of Moses</title>

  <!-- vis.js Timeline -->
  <script src="https://unpkg.com/vis-timeline@latest/standalone/umd/vis-timeline-graph2d.min.js"></script>

  <!-- PapaParse: csv -> JSON -->
  <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>


  <style>
    .vis-item .vis-item-overflow {
      overflow: visible;
    }

    .vis-custom-time {
      z-index: -1 !important;
      pointer-events: none;
    }

    .vis-item {
      z-index: 1;
    }

    .vis-text {
      z-index: 2;
      position: relative;
    }
  </style>

</head>

<body>

  <h1>BERESHIT</h1>
  <div id="BereshitDiv" class="markdown-content">
    <i style="color: red;">
      <br>
      [ <b>Please wait: Loading data...</b><br>
      <br>
      &nbsp;&nbsp;If this message remains in place, it means that the pipeline is not working as intended.<br>
      &nbsp;&nbsp;This often happens if you're viewing the page directly from your filesystem, i.e. an origin without
      CORS.<br>
      &nbsp;&nbsp;In any case, check the console output for clues... ]
    </i>
  </div>
  <div id="details">Click an event to see details here</div>

  <h1>DEVARIM</h1>
  <div id="DevarimDiv" class="markdown-content">
    <i style="color: red;">
      <br>
      [ <b>Please wait: Loading data...</b><br>
      <br>
      &nbsp;&nbsp;If this message remains in place, it means that the pipeline is not working as intended.<br>
      &nbsp;&nbsp;This often happens if you're viewing the page directly from your filesystem, i.e. an origin without
      CORS.<br>
      &nbsp;&nbsp;In any case, check the console output for clues... ]
    </i>
  </div>
  <div id="details">Click an event to see details here</div>

  <p>

    <i>Powered by <a href="https://github.com/visjs/vis-timeline">vis.js/vis-timeline</a> and <a
        href="https://github.com/mholt/PapaParse">PapaParse</a></i>

    <script src="./PesukimTimeline.js"></script>

    <script src="./data/5BooksOfMoses/versesPerChapter_Bereshit.js"></script> <!-- versesPerChapter.Bereshit -->
    <script src="./data/5BooksOfMoses/versesPerChapter_Devarim.js"></script> <!-- versesPerChapter.Devarim -->

    <script>

      let books = ['Bereshit','Devarim'];

      books.forEach(book => {

      Papa.parse('./data/5BooksOfMoses/annotations_' + book + '.csv', {
        download: true,
        complete: function (results) {
          const data = results.data;
          showTimeline(book + 'Div', versesPerChapter[book], data);
        }
      });

      });

    </script>

</body>

</html>